#!/usr/bin/env bash

# xgfs: Interactive utility to select a recent Git commit using fzf and display its diff

set -o nounset
set -o pipefail

readonly PROGRAM="${0##*/}"

if ! git status >/dev/null 2>&1; then
    echo "$PROGRAM: not a git repository" >&2
    exit 128
fi

git log -n 100 --date=short --format='%h %cd %s' | fzf | awk '{print $1}' | xargs git show
